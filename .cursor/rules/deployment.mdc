---
alwaysApply: true
---

### Деплой демо (GitHub Pages)

- **Автоматизировано**: только DEMO (моки) для `apps/client`.
- **Триггер**: пуш тега вида `demo-*`.
- **CI делает**: workflow "Demo Deploy"
  - Ставит `NODE_ENV=production`, `APP_ENV=demo` и собирает `apps/client`.
  - Кладёт сборку в ветку `gh-pages`, добавляет `404.html` и `.nojekyll`.
- **Публикация**: системный job "pages build and deployment" разворачивает ветку `gh-pages` на Pages.
- **Источник Pages**: Settings → Pages → Source = Branch `gh-pages`, Folder `/`.
- **Не влияет на демо**: пуши в `main`.
- **Нельзя**: коммитить руками в `gh-pages` (её обновляет только CI).

### Как обновить демо
- В терминале на macOS:
```bash
cd /Users/cucumber/CodeProjects/test-banknot
TAG=demo-$(date +%Y%m%d-%H%M%S); git tag -a "$TAG" -m "Demo publish $TAG"; git push origin "$TAG"
```
- Альтернатива (ручное имя):
```bash
git tag -a demo-20250101-1200 -m "Demo publish"
git push origin demo-20250101-1200
```
- Ожидаемые job'ы: сначала "Demo Deploy", затем "pages build and deployment".
- Результат: `https://fomily.github.io/test-banknot/`.

### Дополнительно
- Ветка `gh-pages` создаётся автоматически при первом деплое.
- Vite `base` настроен на `/test-banknot/` для корректной работы на Pages.
### Деплой демо (GitHub Pages)

- **Автоматизировано**: только DEMO (моки) для `apps/client`.
- **Триггер**: пуш тега вида `demo-*`.
- **CI делает**: workflow "Demo Deploy"
  - Ставит `NODE_ENV=production`, `APP_ENV=demo` и собирает `apps/client`.
  - Кладёт сборку в ветку `gh-pages`, добавляет `404.html` и `.nojekyll`.
- **Публикация**: системный job "pages build and deployment" разворачивает ветку `gh-pages` на Pages.
- **Источник Pages**: Settings → Pages → Source = Branch `gh-pages`, Folder `/`.
- **Не влияет на демо**: пуши в `main`.
- **Нельзя**: коммитить руками в `gh-pages` (её обновляет только CI).

### Как обновить демо
- В терминале на macOS:
```bash
cd /Users/cucumber/CodeProjects/test-banknot
TAG=demo-$(date +%Y%m%d-%H%M%S); git tag -a "$TAG" -m "Demo publish $TAG"; git push origin "$TAG"
```
- Альтернатива (ручное имя):
```bash
git tag -a demo-20250101-1200 -m "Demo publish"
git push origin demo-20250101-1200
```
- Ожидаемые job'ы: сначала "Demo Deploy", затем "pages build and deployment".
- Результат: `https://fomily.github.io/test-banknot/`.

### Дополнительно
- Ветка `gh-pages` создаётся автоматически при первом деплое.
- Vite `base` настроен на `/test-banknot/` для корректной работы на Pages.
